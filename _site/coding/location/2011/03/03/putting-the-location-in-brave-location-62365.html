<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
<title>Putting the location in Brave Location (62/365) - BraveLocation Blog</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="Brave Location Blog - Web, Mobile and Big Data stuff"/>
<link rel="icon" href="/favicon.ico" />
<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css" />
<link href="http://fonts.googleapis.com/css?family=Open+Sans+Condensed:700" rel="stylesheet" type="text/css" />
<link type="text/css" rel="stylesheet" href="/css/bootstrap.min.css">



<link type="text/css" rel="stylesheet" href="/css/bootstrap-responsive.min.css">
<link type="text/css" rel="stylesheet" href="/css/site.css" />
<link href="/rss.xml" rel="alternate" title="Something New Every Day" type="application/atom+xml" />

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/bootstrap-collapse.js"></script>

<link rel="shortcut icon" href="/images/favicon.png" />

<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta property="og:type" content="article"/>
<meta property="og:image" content="http://www.bravelocation.com/images/BraveLocationSquare.png"/>
<meta property="og:site_name" content="Brave Location Blog - Web, Mobile and Big Data stuff"/>
<meta property="fb:app_id" content="125302614190821"/>
<meta property="og:description" content="Despite really just making it for myself, my Bedside Clock Windows Phone 7 app has now passed 1000 downloads and rising steadily about 50 a day. Very surprising. The relative success means I’m thinking about doing a version 2, and one of the feature requests was to add in location"/>

<link rel="canonical" href="http://somethingnew365.bravelocationstudios.com/coding/location/2011/03/03/putting-the-location-in-brave-location-62365.html"  />
<meta property="og:title" content="Putting the location in Brave Location (62/365)" />
<meta property="og:url" content="http://somethingnew365.com/coding/location/2011/03/03/putting-the-location-in-brave-location-62365.html/" />
</head>
<body>
<div class="navbar"> <!-- Topbar -->
  <div class="navbar-inner">
    <div class="container">
        <a class="brand" href="/">Something New Every Day</a>
        <ul class="nav">
			    <li style="list-style-type: none"><a href="/categories.html">Posts by Category</a></li>
		    </ul>
        <ul class="nav pull-right">
			    <li style="list-style-type: none"><a href="/rss.xml"><img src="/images/feed-icon-28x28.png" width="28" height="28" alt="Feed" /></a></li>
		    </ul>
    </div>
  </div>
  <div id="bannerHeader"></div>
</div> <!-- End of Topbar -->


<div class="container"> <!-- Main container -->

<!-- blog header -->
<div class="hero-unit">
    <h1>Something New Every Day</h1>
    <p>A record of doing a new thing every day in 2011</p>
</div>
<!-- end blog header -->

<!-- Begin Body Columns -->
<div class="row">
    <div class="span12"> <!-- Main content column -->
        <h2 class="blogPostHeader"><a href="/coding/location/2011/03/03/putting-the-location-in-brave-location-62365.html" title="Permalink" class="headingHighlight">Putting the location in Brave Location (62/365)</a> <span class="muted">Thursday March  3, 2011</span></h2>
        <p>Despite really just making it for myself, my Bedside Clock Windows Phone 7 app has now passed 1000 downloads and rising steadily about 50 a day. Very surprising.
The relative success means I’m thinking about doing a version 2, and one of the feature requests was to add in location awareness so it will tell you where you currently are. Obviously if you don’t know where you’re sleeping you’ve probably got bigger problems than a clock can solve, but I do love location aware features so why not?</p>

<p>On the train home on Thursday I managed to get an initial version working, and being in transit was quite useful for testing if it actually worked!
I won’t share the actual code here as it’s not production quality yet - and is a bit dull to be honest - but in outline I did the following:</p>

<ul>
  <li>Used the pattern outlined at <a href="http://msdn.microsoft.com/en-us/library/ff431782(v=VS.92).aspx">http://msdn.microsoft.com/en-us/library/ff431782(v=VS.92).aspx</a> to get the current latitude and longitude</li>
  <li>Registered at <a href="http://www.geonames.org/">http://www.geonames.org/</a> to use their free reverse geocoding service</li>
  <li>Used the WebClient code outlined in <a href="http://weblogs.asp.net/scottgu/archive/2010/03/18/building-a-windows-phone-7-twitter-application-using-silverlight.aspx">http://weblogs.asp.net/scottgu/archive/2010/03/18/building-a-windows-phone-7-twitter-application-using-silverlight.aspx</a> to fetch XML from GeoNames using the current location and hence displaying on the screen</li>
</ul>

<p>It worked reasonably well, although some of the names returned while on the train were a little weird (not really a good use case for a bedside clock though!). The man thing I learnt was the slightly restricted way you make web service calls in Silverlight/WP7</p>

<p>Now I’ve thought about it more, for the next version I’ll probably go with SimpleGeo for the location services, as they offer much richer functionality although it will take a little more programming.</p>

		<div class="withinpostdivider">&nbsp;</div>
	</div>
</div>

<footer>
<div class="row">
	<div class="span3"><a href="/">&laquo; Back to Blog Home</a></div>

	<!-- FB Like button -->
	<div class="span3">
	<div class="fb-like" data-send="false" data-layout="button_count" data-width="150" data-show-faces="false" href="http://somethingnew365.com/coding/location/2011/03/03/putting-the-location-in-brave-location-62365.html/"></div>
	</div>
	<!-- End FB Like button -->

	<!-- Twitter button -->
	<div class="span3">
	<a href="https://twitter.com/share" class="twitter-share-button" data-via="bravelocation">Tweet</a>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	</div>
    <!-- End Twitter button -->

	<!-- Google +1 button  -->
	<div class="span3">
		<div class="g-plusone" data-size="medium" data-annotation="inline" data-width="150"></div>
	</div>
	<!-- End Google +1 button -->

</div> <!-- End row -->
</footer>


<!-- Facebook initialisation -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=125302614190821";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<!-- End Facebook initialisation -->

<!--  Google+ initialisation -->
<script type="text/javascript">
  window.___gcfg = {lang: 'en-GB'};

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<!-- End Google+ initialisation -->

</body>
</html>
​
